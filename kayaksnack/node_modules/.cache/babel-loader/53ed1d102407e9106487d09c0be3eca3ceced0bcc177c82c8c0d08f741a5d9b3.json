{"ast":null,"code":"import _objectSpread from\"C:/Users/980020889/Documents/GitHub/Front-end/kayaksnack/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/components/RealizarPedido.js\nimport React,{useState,useEffect,useCallback}from'react';import'./RealizarPedido.css';import IngredienteInputs from'./IngredienteInputs';import SuccessModal from'./SuccessModal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RealizarPedido(){const productosConfig={'':[],'Fruta Fresca':['Chamoy','Tajín','Miguelito','Leche Condensada','Sal','Limón','Miel'],'Elote en vaso':['Queso Cotija','Mayonesa','Chili en polvo','Crema','Mantequilla','Limón','Sal'],'Russa':[\"Gomitas\"],'Tosticeviche':['Salsa Negra','Aguacate','Limón'],'Tostielote':['Queso Cotija','Mayonesa','Chili en polvo','Crema','Mantequilla'],'Boyas':['Chamoy','Tajín','Miguelito'],'Tostada':['Crema','Queso','Aguacate'],'Litro Ceviche':['Aguacate','Salsa Picante','Limón'],'Chilidog':['Chili','Queso','Jalapeños','Cebolla']};const productosDisponibles=['',...Object.keys(productosConfig).filter(key=>key!=='')];const[formData,setFormData]=useState({nombre:'',telefono:'',producto:'',ingredientes:[],cantidad:1,metodoEntrega:'recoger',direccion:'',metodoPago:'fisico'});const[errors,setErrors]=useState({});const[currentIngredienteInput,setCurrentIngredienteInput]=useState('');const[isSubmitDisabled,setIsSubmitDisabled]=useState(true);// NUEVOS ESTADOS PARA EL MODAL Y PAGO\nconst[showSuccessModal,setShowSuccessModal]=useState(false);const[orderTimeEstimate,setOrderTimeEstimate]=useState('');const[showPaymentFields,setShowPaymentFields]=useState(false);const[paymentDetails,setPaymentDetails]=useState({cardNumber:'',expiryDate:'',cvc:''});const[paymentErrors,setPaymentErrors]=useState({});const[paymentCompleted,setPaymentCompleted]=useState(false);const ingredientesParaProductoActual=productosConfig[formData.producto]||[];// Esta función de validación se ejecutará al intentar SUBMIT\nconst validateForm=useCallback(()=>{let isValid=true;const newErrors={};if(!formData.nombre.trim()){newErrors.nombre='El nombre es requerido.';isValid=false;}if(!formData.telefono.trim()){newErrors.telefono='El teléfono es requerido.';isValid=false;}else if(!/^\\d{10}$/.test(formData.telefono.trim())){//validacion de los 10 digitos\nnewErrors.telefono='El teléfono debe tener 10 dígitos.';isValid=false;}if(!formData.producto){newErrors.producto='Selecciona un producto.';isValid=false;}if(formData.cantidad<1){newErrors.cantidad='La cantidad debe ser al menos 1.';isValid=false;}if(formData.metodoEntrega==='domicilio'&&!formData.direccion.trim()){newErrors.direccion='La dirección es requerida para el servicio a domicilio.';isValid=false;}setErrors(newErrors);// Los errores se establecerán aquí, pero solo se verán en el submit\nreturn isValid;},[formData]);// Validación para el formulario de pago (simulado)\nconst validatePaymentForm=useCallback(()=>{let isValid=true;const newErrors={};if(!paymentDetails.cardNumber.trim()||!/^\\d{16}$/.test(paymentDetails.cardNumber.trim())){newErrors.cardNumber='Número de tarjeta inválido (16 dígitos).';isValid=false;}if(!paymentDetails.expiryDate.trim()||!/^(0[1-9]|1[0-2])\\/\\d{2}$/.test(paymentDetails.expiryDate.trim())){newErrors.expiryDate='Fecha de expiración inválida (MM/AA).';isValid=false;}if(!paymentDetails.cvc.trim()||!/^\\d{3,4}$/.test(paymentDetails.cvc.trim())){newErrors.cvc='CVC inválido (3 o 4 dígitos).';isValid=false;}setPaymentErrors(newErrors);return isValid;},[paymentDetails]);// CAMBIO CLAVE AQUÍ: isSubmitDisabled se basa solo en campos requeridos básicos\n// para evitar la validación completa en cada keystroke.\nuseEffect(()=>{const areBasicFieldsFilled=formData.nombre.trim()!==''&&formData.telefono.trim()!==''&&// Solo verifica que no esté vacío\nformData.producto!==''&&formData.cantidad>=1&&(formData.metodoEntrega!=='domicilio'||formData.direccion.trim()!=='');let isPaymentSectionReady=true;if(formData.metodoPago==='online'&&showPaymentFields){// Para el envío del formulario principal, el pago debe estar marcado como completado\nisPaymentSectionReady=paymentCompleted;}// El botón de submit se habilitará si los campos básicos están llenos\n// Y, si el método de pago es online, el pago debe estar completado\nsetIsSubmitDisabled(!(areBasicFieldsFilled&&isPaymentSectionReady));},[formData,showPaymentFields,paymentCompleted]);// Se elimina 'validateForm' de las dependencias\nconst handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));// Al cambiar un campo, solo se limpia su error específico\n// La validación completa ocurrirá al hacer submit\nif(errors[name]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));}if(name==='producto'){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{ingredientes:[]}));setCurrentIngredienteInput('');setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{currentIngredienteInput:''}));}// Lógica para mostrar/ocultar campos de pago al cambiar el método de pago\nif(name==='metodoPago'){if(value==='online'){setShowPaymentFields(true);}else{setShowPaymentFields(false);setPaymentCompleted(false);setPaymentDetails({cardNumber:'',expiryDate:'',cvc:''});setPaymentErrors({});// Limpia errores de pago\n}}};const handlePaymentDetailsChange=e=>{const{name,value}=e.target;setPaymentDetails(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));setPaymentErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));setPaymentCompleted(false);};const handleAddIngrediente=()=>{const ingredienteToAdd=currentIngredienteInput.trim();let ingredienteError='';if(!ingredienteToAdd){ingredienteError='Por favor, escribe un ingrediente para añadir.';}else if(!ingredientesParaProductoActual.includes(ingredienteToAdd)){ingredienteError=\"\\\"\".concat(ingredienteToAdd,\"\\\" no es un ingrediente v\\xE1lido para \\\"\").concat(formData.producto,\"\\\".\");}else if(formData.ingredientes.includes(ingredienteToAdd)){ingredienteError=\"\\\"\".concat(ingredienteToAdd,\"\\\" ya ha sido a\\xF1adido.\");}if(ingredienteError){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{currentIngredienteInput:ingredienteError}));return;}setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{ingredientes:[...prev.ingredientes,ingredienteToAdd]}));setCurrentIngredienteInput('');setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{currentIngredienteInput:''}));};const handleRemoveIngrediente=ingredienteToRemove=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{ingredientes:prev.ingredientes.filter(ing=>ing!==ingredienteToRemove)}));};const isAddIngredienteDisabled=!currentIngredienteInput.trim()||!ingredientesParaProductoActual.includes(currentIngredienteInput.trim())||formData.ingredientes.includes(currentIngredienteInput.trim());// Nueva función para \"procesar\" el pago en línea\nconst handleProcessOnlinePayment=()=>{const paymentIsValid=validatePaymentForm();if(paymentIsValid){// Simulamos un procesamiento de pago exitoso\nsetPaymentCompleted(true);alert('¡Pago en línea procesado con éxito! Ahora puedes completar tu pedido.');}else{alert('Por favor, corrige los datos de pago.');}};const handleSubmit=e=>{e.preventDefault();// Al hacer submit, SIEMPRE se ejecuta la validación completa\nconst formIsValid=validateForm();if(formIsValid){// Si el método de pago es online y no se ha completado, no se puede enviar el pedido final\nif(formData.metodoPago==='online'&&!paymentCompleted){alert('Por favor, procesa tu pago en línea primero.');return;}console.log(\"Pedido Enviado:\",formData);if(formData.metodoPago==='online'){console.log(\"Detalles de Pago (simulados):\",paymentDetails);}// Determina el tiempo estimado\nlet estimate='';if(formData.metodoEntrega==='recoger'){estimate='20 - 30 minutos';}else{// domicilio\nestimate='30 - 45 minutos';}setOrderTimeEstimate(estimate);// Mostrar el modal de éxito\nsetShowSuccessModal(true);// Resetea el formulario después de un envío exitoso\nsetFormData({nombre:'',telefono:'',producto:'',ingredientes:[],cantidad:1,metodoEntrega:'recoger',direccion:'',metodoPago:'fisico'});setErrors({});setCurrentIngredienteInput('');setPaymentDetails({cardNumber:'',expiryDate:'',cvc:''});setPaymentErrors({});setShowPaymentFields(false);setPaymentCompleted(false);}else{alert('Por favor, completa todos los campos requeridos y corrige los errores.');// Enfoca el primer campo con error para mejorar la UX\nconst firstErrorField=Object.keys(errors)[0];if(firstErrorField){var _document$getElementB;(_document$getElementB=document.getElementById(firstErrorField))===null||_document$getElementB===void 0?void 0:_document$getElementB.focus();}}};const handleCloseModal=()=>{setShowSuccessModal(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"seccion-realizar-pedido\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"titulo-principal\",children:\"Haz tu Pedido\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"linea-debajo-titulo\"}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitulo-principal\",children:\"Personaliza tu antojo y disfruta de los mejores snacks de Kayak Snack\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"formulario-contenedor\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"campo-grupo\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"producto\",className:\"etiqueta-campo\",children:[\"Selecciona tu antojo \",/*#__PURE__*/_jsx(\"span\",{className:\"required-asterisk\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{id:\"producto\",name:\"producto\",value:formData.producto,onChange:handleChange,className:\"input-select \".concat(errors.producto?'input-error':''),\"aria-invalid\":errors.producto?\"true\":\"false\",\"aria-describedby\":\"error-producto\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Elige un producto --\"}),productosDisponibles.filter(p=>p!=='').map(producto=>/*#__PURE__*/_jsx(\"option\",{value:producto,children:producto},producto))]}),errors.producto&&/*#__PURE__*/_jsx(\"p\",{id:\"error-producto\",className:\"mensaje-error\",children:errors.producto})]}),formData.producto&&ingredientesParaProductoActual.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"campo-grupo\",children:[/*#__PURE__*/_jsx(IngredienteInputs,{label:\"A\\xF1adir ingredientes (opcional)\",placeholder:\"Ingrediente a a\\xF1adir\",suggestions:ingredientesParaProductoActual,currentValue:currentIngredienteInput,onValueChange:setCurrentIngredienteInput,onAddClick:handleAddIngrediente,isDisabled:isAddIngredienteDisabled,errorMessage:errors.currentIngredienteInput}),formData.ingredientes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"ingredientes-agregados\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"titulo-agregados\",children:\"Agregados:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"lista-agregados\",children:formData.ingredientes.map(ingrediente=>/*#__PURE__*/_jsxs(\"li\",{children:[ingrediente,/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleRemoveIngrediente(ingrediente),className:\"boton-eliminar-ingrediente\",title:\"Eliminar ingrediente\",children:\"\\xD7\"})]},ingrediente))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-grupo\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"nombre\",className:\"etiqueta-campo\",children:[\"Tu Nombre: \",/*#__PURE__*/_jsx(\"span\",{className:\"required-asterisk\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"nombre\",name:\"nombre\",value:formData.nombre,onChange:handleChange,className:\"input-text \".concat(errors.nombre?'input-error':''),placeholder:\"Escribe tu nombre\",\"aria-invalid\":errors.nombre?\"true\":\"false\",\"aria-describedby\":\"error-nombre\"}),errors.nombre&&/*#__PURE__*/_jsx(\"p\",{id:\"error-nombre\",className:\"mensaje-error\",children:errors.nombre})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-grupo\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"telefono\",className:\"etiqueta-campo\",children:[\"N\\xFAmero de Tel\\xE9fono: \",/*#__PURE__*/_jsx(\"span\",{className:\"required-asterisk\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",id:\"telefono\",name:\"telefono\",value:formData.telefono,onChange:handleChange,className:\"input-text \".concat(errors.telefono?'input-error':''),placeholder:\"Ej: 8112345678\",\"aria-invalid\":errors.telefono?\"true\":\"false\",\"aria-describedby\":\"error-telefono\"}),errors.telefono&&/*#__PURE__*/_jsx(\"p\",{id:\"error-telefono\",className:\"mensaje-error\",children:errors.telefono})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-grupo\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"cantidad\",className:\"etiqueta-campo\",children:[\"Cantidad: \",/*#__PURE__*/_jsx(\"span\",{className:\"required-asterisk\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"cantidad\",name:\"cantidad\",value:formData.cantidad,onChange:handleChange,className:\"input-text \".concat(errors.cantidad?'input-error':''),min:\"1\",\"aria-invalid\":errors.cantidad?\"true\":\"false\",\"aria-describedby\":\"error-cantidad\"}),errors.cantidad&&/*#__PURE__*/_jsx(\"p\",{id:\"error-cantidad\",className:\"mensaje-error\",children:errors.cantidad})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-grupo\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"metodoEntrega\",className:\"etiqueta-campo\",children:[\"M\\xE9todo de entrega: \",/*#__PURE__*/_jsx(\"span\",{className:\"required-asterisk\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{id:\"metodoEntrega\",name:\"metodoEntrega\",value:formData.metodoEntrega,onChange:handleChange,className:\"input-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"recoger\",children:\"Recoger en local\"}),/*#__PURE__*/_jsx(\"option\",{value:\"domicilio\",children:\"Servicio a domicilio\"})]})]}),formData.metodoEntrega==='domicilio'&&/*#__PURE__*/_jsxs(\"div\",{className:\"campo-grupo\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"direccion\",className:\"etiqueta-campo\",children:[\"Direcci\\xF3n de entrega: \",/*#__PURE__*/_jsx(\"span\",{className:\"required-asterisk\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"direccion\",name:\"direccion\",value:formData.direccion,onChange:handleChange,className:\"input-text \".concat(errors.direccion?'input-error':''),placeholder:\"Calle, n\\xFAmero, colonia, c\\xF3digo postal\",\"aria-invalid\":errors.direccion?\"true\":\"false\",\"aria-describedby\":\"error-direccion\"}),errors.direccion&&/*#__PURE__*/_jsx(\"p\",{id:\"error-direccion\",className:\"mensaje-error\",children:errors.direccion})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-grupo\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"metodoPago\",className:\"etiqueta-campo\",children:[\"M\\xE9todo de pago: \",/*#__PURE__*/_jsx(\"span\",{className:\"required-asterisk\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{id:\"metodoPago\",name:\"metodoPago\",value:formData.metodoPago,onChange:handleChange,className:\"input-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"fisico\",children:\"Pagar en f\\xEDsico (Contra entrega)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"online\",children:\"Pagar en l\\xEDnea\"})]})]}),showPaymentFields&&!paymentCompleted&&/*#__PURE__*/_jsxs(\"div\",{className:\"campo-grupo payment-fields-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Detalles de Pago en L\\xEDnea\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-grupo\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cardNumber\",className:\"etiqueta-campo\",children:\"N\\xFAmero de Tarjeta:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"cardNumber\",name:\"cardNumber\",value:paymentDetails.cardNumber,onChange:handlePaymentDetailsChange,className:\"input-text \".concat(paymentErrors.cardNumber?'input-error':''),placeholder:\"XXXX XXXX XXXX XXXX\",maxLength:\"16\",\"aria-invalid\":paymentErrors.cardNumber?\"true\":\"false\",\"aria-describedby\":\"error-cardNumber\"}),paymentErrors.cardNumber&&/*#__PURE__*/_jsx(\"p\",{id:\"error-cardNumber\",className:\"mensaje-error\",children:paymentErrors.cardNumber})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-grupo campo-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"campo-col\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"expiryDate\",className:\"etiqueta-campo\",children:\"Fecha Exp. (MM/AA):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"expiryDate\",name:\"expiryDate\",value:paymentDetails.expiryDate,onChange:handlePaymentDetailsChange,className:\"input-text \".concat(paymentErrors.expiryDate?'input-error':''),placeholder:\"MM/AA\",maxLength:\"5\",\"aria-invalid\":paymentErrors.expiryDate?\"true\":\"false\",\"aria-describedby\":\"error-expiryDate\"}),paymentErrors.expiryDate&&/*#__PURE__*/_jsx(\"p\",{id:\"error-expiryDate\",className:\"mensaje-error\",children:paymentErrors.expiryDate})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-col\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cvc\",className:\"etiqueta-campo\",children:\"CVC:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"cvc\",name:\"cvc\",value:paymentDetails.cvc,onChange:handlePaymentDetailsChange,className:\"input-text \".concat(paymentErrors.cvc?'input-error':''),placeholder:\"123\",maxLength:\"4\",\"aria-invalid\":paymentErrors.cvc?\"true\":\"false\",\"aria-describedby\":\"error-cvc\"}),paymentErrors.cvc&&/*#__PURE__*/_jsx(\"p\",{id:\"error-cvc\",className:\"mensaje-error\",children:paymentErrors.cvc})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleProcessOnlinePayment,className:\"boton-procesar-pago\",children:\"Procesar Pago\"})]}),paymentCompleted&&formData.metodoPago==='online'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mensaje-pago-completado\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2705 \\xA1Pago en l\\xEDnea: \",/*#__PURE__*/_jsx(\"strong\",{children:\"Pagado\"}),\"!\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Ahora puedes completar tu pedido.\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"boton-completar-pedido\",disabled:isSubmitDisabled,children:\"Completar Pedido\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"info-telefono\",children:[\"Si prefieres, tambi\\xE9n puedes hacer tu pedido llamando al: \",/*#__PURE__*/_jsx(\"strong\",{children:\"81 1234 5678\"})]}),showSuccessModal&&/*#__PURE__*/_jsx(SuccessModal,{message:\"\\xA1Tu pedido ha sido enviado con \\xE9xito! Nos pondremos en contacto contigo pronto.\",timeEstimate:orderTimeEstimate,onClose:handleCloseModal,isPaymentSuccess:formData.metodoPago==='online'&&paymentCompleted,paymentMessage:\"Pagado\"})]});}export default RealizarPedido;","map":{"version":3,"names":["React","useState","useEffect","useCallback","IngredienteInputs","SuccessModal","jsx","_jsx","jsxs","_jsxs","RealizarPedido","productosConfig","productosDisponibles","Object","keys","filter","key","formData","setFormData","nombre","telefono","producto","ingredientes","cantidad","metodoEntrega","direccion","metodoPago","errors","setErrors","currentIngredienteInput","setCurrentIngredienteInput","isSubmitDisabled","setIsSubmitDisabled","showSuccessModal","setShowSuccessModal","orderTimeEstimate","setOrderTimeEstimate","showPaymentFields","setShowPaymentFields","paymentDetails","setPaymentDetails","cardNumber","expiryDate","cvc","paymentErrors","setPaymentErrors","paymentCompleted","setPaymentCompleted","ingredientesParaProductoActual","validateForm","isValid","newErrors","trim","test","validatePaymentForm","areBasicFieldsFilled","isPaymentSectionReady","handleChange","e","name","value","target","prev","_objectSpread","handlePaymentDetailsChange","handleAddIngrediente","ingredienteToAdd","ingredienteError","includes","concat","handleRemoveIngrediente","ingredienteToRemove","ing","isAddIngredienteDisabled","handleProcessOnlinePayment","paymentIsValid","alert","handleSubmit","preventDefault","formIsValid","console","log","estimate","firstErrorField","_document$getElementB","document","getElementById","focus","handleCloseModal","className","children","onSubmit","htmlFor","id","onChange","p","map","length","label","placeholder","suggestions","currentValue","onValueChange","onAddClick","isDisabled","errorMessage","ingrediente","type","onClick","title","min","maxLength","disabled","message","timeEstimate","onClose","isPaymentSuccess","paymentMessage"],"sources":["C:/Users/980020889/Documents/GitHub/Front-end/kayaksnack/src/components/RealizarPedido.js"],"sourcesContent":["// src/components/RealizarPedido.js\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport './RealizarPedido.css';\r\nimport IngredienteInputs from './IngredienteInputs';\r\nimport SuccessModal from './SuccessModal'; \r\n\r\nfunction RealizarPedido() {\r\n    const productosConfig = {\r\n        '': [],\r\n        'Fruta Fresca': ['Chamoy', 'Tajín', 'Miguelito', 'Leche Condensada', 'Sal', 'Limón', 'Miel'],\r\n        'Elote en vaso': ['Queso Cotija', 'Mayonesa', 'Chili en polvo', 'Crema', 'Mantequilla', 'Limón', 'Sal'],\r\n        'Russa': [\"Gomitas\"],\r\n        'Tosticeviche': ['Salsa Negra', 'Aguacate', 'Limón'],\r\n        'Tostielote': ['Queso Cotija', 'Mayonesa', 'Chili en polvo', 'Crema', 'Mantequilla'],\r\n        'Boyas': ['Chamoy', 'Tajín', 'Miguelito'],\r\n        'Tostada': ['Crema', 'Queso', 'Aguacate'],\r\n        'Litro Ceviche': ['Aguacate', 'Salsa Picante', 'Limón'],\r\n        'Chilidog': ['Chili', 'Queso', 'Jalapeños', 'Cebolla'],\r\n    };\r\n\r\n    const productosDisponibles = ['', ...Object.keys(productosConfig).filter(key => key !== '')];\r\n\r\n    const [formData, setFormData] = useState({\r\n        nombre: '',\r\n        telefono: '',\r\n        producto: '',\r\n        ingredientes: [],\r\n        cantidad: 1,\r\n        metodoEntrega: 'recoger',\r\n        direccion: '',\r\n        metodoPago: 'fisico',\r\n    });\r\n\r\n    const [errors, setErrors] = useState({});\r\n    const [currentIngredienteInput, setCurrentIngredienteInput] = useState('');\r\n    const [isSubmitDisabled, setIsSubmitDisabled] = useState(true);\r\n\r\n    // NUEVOS ESTADOS PARA EL MODAL Y PAGO\r\n    const [showSuccessModal, setShowSuccessModal] = useState(false);\r\n    const [orderTimeEstimate, setOrderTimeEstimate] = useState('');\r\n    const [showPaymentFields, setShowPaymentFields] = useState(false); \r\n    const [paymentDetails, setPaymentDetails] = useState({ \r\n        cardNumber: '',\r\n        expiryDate: '',\r\n        cvc: ''\r\n    });\r\n    const [paymentErrors, setPaymentErrors] = useState({}); \r\n    const [paymentCompleted, setPaymentCompleted] = useState(false);\r\n\r\n    const ingredientesParaProductoActual = productosConfig[formData.producto] || [];\r\n\r\n    // Esta función de validación se ejecutará al intentar SUBMIT\r\n    const validateForm = useCallback(() => {\r\n        let isValid = true;\r\n        const newErrors = {};\r\n\r\n        if (!formData.nombre.trim()) {\r\n            newErrors.nombre = 'El nombre es requerido.';\r\n            isValid = false;\r\n        }\r\n\r\n        if (!formData.telefono.trim()) {\r\n            newErrors.telefono = 'El teléfono es requerido.';\r\n            isValid = false;\r\n        } else if (!/^\\d{10}$/.test(formData.telefono.trim())) {\r\n           //validacion de los 10 digitos\r\n            newErrors.telefono = 'El teléfono debe tener 10 dígitos.';\r\n            isValid = false;\r\n        }\r\n\r\n        if (!formData.producto) {\r\n            newErrors.producto = 'Selecciona un producto.';\r\n            isValid = false;\r\n        }\r\n\r\n        if (formData.cantidad < 1) {\r\n            newErrors.cantidad = 'La cantidad debe ser al menos 1.';\r\n            isValid = false;\r\n        }\r\n\r\n        if (formData.metodoEntrega === 'domicilio' && !formData.direccion.trim()) {\r\n            newErrors.direccion = 'La dirección es requerida para el servicio a domicilio.';\r\n            isValid = false;\r\n        }\r\n\r\n        setErrors(newErrors); // Los errores se establecerán aquí, pero solo se verán en el submit\r\n        return isValid;\r\n    }, [formData]);\r\n\r\n    // Validación para el formulario de pago (simulado)\r\n    const validatePaymentForm = useCallback(() => {\r\n        let isValid = true;\r\n        const newErrors = {};\r\n\r\n        if (!paymentDetails.cardNumber.trim() || !/^\\d{16}$/.test(paymentDetails.cardNumber.trim())) {\r\n            newErrors.cardNumber = 'Número de tarjeta inválido (16 dígitos).';\r\n            isValid = false;\r\n        }\r\n        if (!paymentDetails.expiryDate.trim() || !/^(0[1-9]|1[0-2])\\/\\d{2}$/.test(paymentDetails.expiryDate.trim())) {\r\n            newErrors.expiryDate = 'Fecha de expiración inválida (MM/AA).';\r\n            isValid = false;\r\n        }\r\n        if (!paymentDetails.cvc.trim() || !/^\\d{3,4}$/.test(paymentDetails.cvc.trim())) {\r\n            newErrors.cvc = 'CVC inválido (3 o 4 dígitos).';\r\n            isValid = false;\r\n        }\r\n\r\n        setPaymentErrors(newErrors);\r\n        return isValid;\r\n    }, [paymentDetails]);\r\n\r\n    // CAMBIO CLAVE AQUÍ: isSubmitDisabled se basa solo en campos requeridos básicos\r\n    // para evitar la validación completa en cada keystroke.\r\n    useEffect(() => {\r\n        const areBasicFieldsFilled =\r\n            formData.nombre.trim() !== '' &&\r\n            formData.telefono.trim() !== '' && // Solo verifica que no esté vacío\r\n            formData.producto !== '' &&\r\n            formData.cantidad >= 1 &&\r\n            (formData.metodoEntrega !== 'domicilio' || formData.direccion.trim() !== '');\r\n\r\n        let isPaymentSectionReady = true;\r\n        if (formData.metodoPago === 'online' && showPaymentFields) {\r\n            // Para el envío del formulario principal, el pago debe estar marcado como completado\r\n            isPaymentSectionReady = paymentCompleted;\r\n        }\r\n\r\n        // El botón de submit se habilitará si los campos básicos están llenos\r\n        // Y, si el método de pago es online, el pago debe estar completado\r\n        setIsSubmitDisabled(!(areBasicFieldsFilled && isPaymentSectionReady));\r\n\r\n    }, [formData, showPaymentFields, paymentCompleted]); // Se elimina 'validateForm' de las dependencias\r\n\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData(prev => ({ ...prev, [name]: value }));\r\n\r\n        // Al cambiar un campo, solo se limpia su error específico\r\n        // La validación completa ocurrirá al hacer submit\r\n        if (errors[name]) {\r\n            setErrors(prev => ({ ...prev, [name]: '' }));\r\n        }\r\n\r\n        if (name === 'producto') {\r\n            setFormData(prev => ({\r\n                ...prev,\r\n                ingredientes: []\r\n            }));\r\n            setCurrentIngredienteInput('');\r\n            setErrors(prev => ({ ...prev, currentIngredienteInput: '' }));\r\n        }\r\n\r\n        // Lógica para mostrar/ocultar campos de pago al cambiar el método de pago\r\n        if (name === 'metodoPago') {\r\n            if (value === 'online') {\r\n                setShowPaymentFields(true);\r\n            } else {\r\n                setShowPaymentFields(false);\r\n                setPaymentCompleted(false); \r\n                setPaymentDetails({ cardNumber: '', expiryDate: '', cvc: '' }); \r\n                setPaymentErrors({}); // Limpia errores de pago\r\n            }\r\n        }\r\n    };\r\n\r\n    const handlePaymentDetailsChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setPaymentDetails(prev => ({ ...prev, [name]: value }));\r\n        setPaymentErrors(prev => ({ ...prev, [name]: '' }));\r\n        setPaymentCompleted(false); \r\n    };\r\n\r\n    const handleAddIngrediente = () => {\r\n        const ingredienteToAdd = currentIngredienteInput.trim();\r\n        let ingredienteError = '';\r\n\r\n        if (!ingredienteToAdd) {\r\n            ingredienteError = 'Por favor, escribe un ingrediente para añadir.';\r\n        } else if (!ingredientesParaProductoActual.includes(ingredienteToAdd)) {\r\n            ingredienteError = `\"${ingredienteToAdd}\" no es un ingrediente válido para \"${formData.producto}\".`;\r\n        } else if (formData.ingredientes.includes(ingredienteToAdd)) {\r\n            ingredienteError = `\"${ingredienteToAdd}\" ya ha sido añadido.`;\r\n        }\r\n\r\n        if (ingredienteError) {\r\n            setErrors(prev => ({ ...prev, currentIngredienteInput: ingredienteError }));\r\n            return;\r\n        }\r\n\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            ingredientes: [...prev.ingredientes, ingredienteToAdd]\r\n        }));\r\n        setCurrentIngredienteInput('');\r\n        setErrors(prev => ({ ...prev, currentIngredienteInput: '' }));\r\n    };\r\n\r\n    const handleRemoveIngrediente = (ingredienteToRemove) => {\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            ingredientes: prev.ingredientes.filter(ing => ing !== ingredienteToRemove)\r\n        }));\r\n    };\r\n\r\n    const isAddIngredienteDisabled = !currentIngredienteInput.trim() ||\r\n                                     !ingredientesParaProductoActual.includes(currentIngredienteInput.trim()) ||\r\n                                     formData.ingredientes.includes(currentIngredienteInput.trim());\r\n\r\n    // Nueva función para \"procesar\" el pago en línea\r\n    const handleProcessOnlinePayment = () => {\r\n        const paymentIsValid = validatePaymentForm();\r\n        if (paymentIsValid) {\r\n            // Simulamos un procesamiento de pago exitoso\r\n            setPaymentCompleted(true);\r\n            alert('¡Pago en línea procesado con éxito! Ahora puedes completar tu pedido.');\r\n        } else {\r\n            alert('Por favor, corrige los datos de pago.');\r\n        }\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        // Al hacer submit, SIEMPRE se ejecuta la validación completa\r\n        const formIsValid = validateForm();\r\n\r\n        if (formIsValid) {\r\n            // Si el método de pago es online y no se ha completado, no se puede enviar el pedido final\r\n            if (formData.metodoPago === 'online' && !paymentCompleted) {\r\n                alert('Por favor, procesa tu pago en línea primero.');\r\n                return;\r\n            }\r\n\r\n            console.log(\"Pedido Enviado:\", formData);\r\n            if (formData.metodoPago === 'online') {\r\n                console.log(\"Detalles de Pago (simulados):\", paymentDetails);\r\n            }\r\n\r\n            // Determina el tiempo estimado\r\n            let estimate = '';\r\n            if (formData.metodoEntrega === 'recoger') {\r\n                estimate = '20 - 30 minutos';\r\n            } else { // domicilio\r\n                estimate = '30 - 45 minutos';\r\n            }\r\n            setOrderTimeEstimate(estimate);\r\n\r\n            // Mostrar el modal de éxito\r\n            setShowSuccessModal(true);\r\n\r\n            // Resetea el formulario después de un envío exitoso\r\n            setFormData({\r\n                nombre: '',\r\n                telefono: '',\r\n                producto: '',\r\n                ingredientes: [],\r\n                cantidad: 1,\r\n                metodoEntrega: 'recoger',\r\n                direccion: '',\r\n                metodoPago: 'fisico',\r\n            });\r\n            setErrors({});\r\n            setCurrentIngredienteInput('');\r\n            setPaymentDetails({ cardNumber: '', expiryDate: '', cvc: '' });\r\n            setPaymentErrors({});\r\n            setShowPaymentFields(false);\r\n            setPaymentCompleted(false);\r\n        } else {\r\n            alert('Por favor, completa todos los campos requeridos y corrige los errores.');\r\n            // Enfoca el primer campo con error para mejorar la UX\r\n            const firstErrorField = Object.keys(errors)[0];\r\n            if (firstErrorField) {\r\n                document.getElementById(firstErrorField)?.focus();\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setShowSuccessModal(false);\r\n    };\r\n\r\n    return (\r\n        <div className=\"seccion-realizar-pedido\">\r\n            <h1 className=\"titulo-principal\">Haz tu Pedido</h1>\r\n            <hr className=\"linea-debajo-titulo\" />\r\n            <p className=\"subtitulo-principal\">Personaliza tu antojo y disfruta de los mejores snacks de Kayak Snack</p>\r\n\r\n            <form onSubmit={handleSubmit} className=\"formulario-contenedor\">\r\n                {/* Campo Producto */}\r\n                <div className=\"campo-grupo\">\r\n                    <label htmlFor=\"producto\" className=\"etiqueta-campo\">\r\n                        Selecciona tu antojo <span className=\"required-asterisk\">*</span>\r\n                    </label>\r\n                    <select\r\n                        id=\"producto\"\r\n                        name=\"producto\"\r\n                        value={formData.producto}\r\n                        onChange={handleChange}\r\n                        className={`input-select ${errors.producto ? 'input-error' : ''}`}\r\n                        aria-invalid={errors.producto ? \"true\" : \"false\"}\r\n                        aria-describedby=\"error-producto\"\r\n                    >\r\n                        <option value=\"\">-- Elige un producto --</option>\r\n                        {productosDisponibles.filter(p => p !== '').map(producto => (\r\n                            <option key={producto} value={producto}>{producto}</option>\r\n                        ))}\r\n                    </select>\r\n                    {errors.producto && <p id=\"error-producto\" className=\"mensaje-error\">{errors.producto}</p>}\r\n                </div>\r\n\r\n                {/* Sección de añadir ingredientes (mostrar solo si el producto tiene ingredientes definidos) */}\r\n                {formData.producto && ingredientesParaProductoActual.length > 0 && (\r\n                    <div className=\"campo-grupo\">\r\n                        <IngredienteInputs\r\n                            label=\"Añadir ingredientes (opcional)\"\r\n                            placeholder=\"Ingrediente a añadir\"\r\n                            suggestions={ingredientesParaProductoActual}\r\n                            currentValue={currentIngredienteInput}\r\n                            onValueChange={setCurrentIngredienteInput}\r\n                            onAddClick={handleAddIngrediente}\r\n                            isDisabled={isAddIngredienteDisabled}\r\n                            errorMessage={errors.currentIngredienteInput}\r\n                        />\r\n                        {formData.ingredientes.length > 0 && (\r\n                            <div className=\"ingredientes-agregados\">\r\n                                <p className=\"titulo-agregados\">Agregados:</p>\r\n                                <ul className=\"lista-agregados\">\r\n                                    {formData.ingredientes.map(ingrediente => (\r\n                                        <li key={ingrediente}>\r\n                                            {ingrediente}\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                onClick={() => handleRemoveIngrediente(ingrediente)}\r\n                                                className=\"boton-eliminar-ingrediente\"\r\n                                                title=\"Eliminar ingrediente\"\r\n                                            >\r\n                                                &times;\r\n                                            </button>\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Campo Nombre */}\r\n                <div className=\"campo-grupo\">\r\n                    <label htmlFor=\"nombre\" className=\"etiqueta-campo\">\r\n                        Tu Nombre: <span className=\"required-asterisk\">*</span>\r\n                    </label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"nombre\"\r\n                        name=\"nombre\"\r\n                        value={formData.nombre}\r\n                        onChange={handleChange}\r\n                        className={`input-text ${errors.nombre ? 'input-error' : ''}`}\r\n                        placeholder=\"Escribe tu nombre\"\r\n                        aria-invalid={errors.nombre ? \"true\" : \"false\"}\r\n                        aria-describedby=\"error-nombre\"\r\n                    />\r\n                    {errors.nombre && <p id=\"error-nombre\" className=\"mensaje-error\">{errors.nombre}</p>}\r\n                </div>\r\n\r\n                {/* Campo Teléfono */}\r\n                <div className=\"campo-grupo\">\r\n                    <label htmlFor=\"telefono\" className=\"etiqueta-campo\">\r\n                        Número de Teléfono: <span className=\"required-asterisk\">*</span>\r\n                    </label>\r\n                    <input\r\n                        type=\"tel\"\r\n                        id=\"telefono\"\r\n                        name=\"telefono\"\r\n                        value={formData.telefono}\r\n                        onChange={handleChange}\r\n                        className={`input-text ${errors.telefono ? 'input-error' : ''}`}\r\n                        placeholder=\"Ej: 8112345678\"\r\n                        aria-invalid={errors.telefono ? \"true\" : \"false\"}\r\n                        aria-describedby=\"error-telefono\"\r\n                    />\r\n                    {errors.telefono && <p id=\"error-telefono\" className=\"mensaje-error\">{errors.telefono}</p>}\r\n                </div>\r\n\r\n                {/* Campo Cantidad */}\r\n                <div className=\"campo-grupo\">\r\n                    <label htmlFor=\"cantidad\" className=\"etiqueta-campo\">\r\n                        Cantidad: <span className=\"required-asterisk\">*</span>\r\n                    </label>\r\n                    <input\r\n                        type=\"number\"\r\n                        id=\"cantidad\"\r\n                        name=\"cantidad\"\r\n                        value={formData.cantidad}\r\n                        onChange={handleChange}\r\n                        className={`input-text ${errors.cantidad ? 'input-error' : ''}`}\r\n                        min=\"1\"\r\n                        aria-invalid={errors.cantidad ? \"true\" : \"false\"}\r\n                        aria-describedby=\"error-cantidad\"\r\n                    />\r\n                    {errors.cantidad && <p id=\"error-cantidad\" className=\"mensaje-error\">{errors.cantidad}</p>}\r\n                </div>\r\n\r\n                {/* Campo Método de Entrega */}\r\n                <div className=\"campo-grupo\">\r\n                    <label htmlFor=\"metodoEntrega\" className=\"etiqueta-campo\">\r\n                        Método de entrega: <span className=\"required-asterisk\">*</span>\r\n                    </label>\r\n                    <select\r\n                        id=\"metodoEntrega\"\r\n                        name=\"metodoEntrega\"\r\n                        value={formData.metodoEntrega}\r\n                        onChange={handleChange}\r\n                        className=\"input-select\"\r\n                    >\r\n                        <option value=\"recoger\">Recoger en local</option>\r\n                        <option value=\"domicilio\">Servicio a domicilio</option>\r\n                    </select>\r\n                </div>\r\n\r\n                {/* Campo Dirección (solo si el método de entrega es \"domicilio\") */}\r\n                {formData.metodoEntrega === 'domicilio' && (\r\n                    <div className=\"campo-grupo\">\r\n                        <label htmlFor=\"direccion\" className=\"etiqueta-campo\">\r\n                            Dirección de entrega: <span className=\"required-asterisk\">*</span>\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"direccion\"\r\n                            name=\"direccion\"\r\n                            value={formData.direccion}\r\n                            onChange={handleChange}\r\n                            className={`input-text ${errors.direccion ? 'input-error' : ''}`}\r\n                            placeholder=\"Calle, número, colonia, código postal\"\r\n                            aria-invalid={errors.direccion ? \"true\" : \"false\"}\r\n                            aria-describedby=\"error-direccion\"\r\n                        />\r\n                        {errors.direccion && <p id=\"error-direccion\" className=\"mensaje-error\">{errors.direccion}</p>}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Campo Método de Pago */}\r\n                <div className=\"campo-grupo\">\r\n                    <label htmlFor=\"metodoPago\" className=\"etiqueta-campo\">\r\n                        Método de pago: <span className=\"required-asterisk\">*</span>\r\n                    </label>\r\n                    <select\r\n                        id=\"metodoPago\"\r\n                        name=\"metodoPago\"\r\n                        value={formData.metodoPago}\r\n                        onChange={handleChange}\r\n                        className=\"input-select\"\r\n                    >\r\n                        <option value=\"fisico\">Pagar en físico (Contra entrega)</option>\r\n                        <option value=\"online\">Pagar en línea</option>\r\n                    </select>\r\n                </div>\r\n\r\n                {/* Campos de pago en línea (aparecen si metodoPago es 'online' y aún no se ha completado el pago) */}\r\n                {showPaymentFields && !paymentCompleted && (\r\n                    <div className=\"campo-grupo payment-fields-container\">\r\n                        <h3>Detalles de Pago en Línea</h3>\r\n                        <div className=\"campo-grupo\">\r\n                            <label htmlFor=\"cardNumber\" className=\"etiqueta-campo\">Número de Tarjeta:</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"cardNumber\"\r\n                                name=\"cardNumber\"\r\n                                value={paymentDetails.cardNumber}\r\n                                onChange={handlePaymentDetailsChange}\r\n                                className={`input-text ${paymentErrors.cardNumber ? 'input-error' : ''}`}\r\n                                placeholder=\"XXXX XXXX XXXX XXXX\"\r\n                                maxLength=\"16\"\r\n                                aria-invalid={paymentErrors.cardNumber ? \"true\" : \"false\"}\r\n                                aria-describedby=\"error-cardNumber\"\r\n                            />\r\n                            {paymentErrors.cardNumber && <p id=\"error-cardNumber\" className=\"mensaje-error\">{paymentErrors.cardNumber}</p>}\r\n                        </div>\r\n                        <div className=\"campo-grupo campo-row\">\r\n                            <div className=\"campo-col\">\r\n                                <label htmlFor=\"expiryDate\" className=\"etiqueta-campo\">Fecha Exp. (MM/AA):</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    id=\"expiryDate\"\r\n                                    name=\"expiryDate\"\r\n                                    value={paymentDetails.expiryDate}\r\n                                    onChange={handlePaymentDetailsChange}\r\n                                    className={`input-text ${paymentErrors.expiryDate ? 'input-error' : ''}`}\r\n                                    placeholder=\"MM/AA\"\r\n                                    maxLength=\"5\"\r\n                                    aria-invalid={paymentErrors.expiryDate ? \"true\" : \"false\"}\r\n                                    aria-describedby=\"error-expiryDate\"\r\n                                />\r\n                                {paymentErrors.expiryDate && <p id=\"error-expiryDate\" className=\"mensaje-error\">{paymentErrors.expiryDate}</p>}\r\n                            </div>\r\n                            <div className=\"campo-col\">\r\n                                <label htmlFor=\"cvc\" className=\"etiqueta-campo\">CVC:</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    id=\"cvc\"\r\n                                    name=\"cvc\"\r\n                                    value={paymentDetails.cvc}\r\n                                    onChange={handlePaymentDetailsChange}\r\n                                    className={`input-text ${paymentErrors.cvc ? 'input-error' : ''}`}\r\n                                    placeholder=\"123\"\r\n                                    maxLength=\"4\"\r\n                                    aria-invalid={paymentErrors.cvc ? \"true\" : \"false\"}\r\n                                    aria-describedby=\"error-cvc\"\r\n                                />\r\n                                {paymentErrors.cvc && <p id=\"error-cvc\" className=\"mensaje-error\">{paymentErrors.cvc}</p>}\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={handleProcessOnlinePayment}\r\n                            className=\"boton-procesar-pago\"\r\n                        >\r\n                            Procesar Pago\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Mensaje de pago completado */}\r\n                {paymentCompleted && formData.metodoPago === 'online' && (\r\n                    <div className=\"mensaje-pago-completado\">\r\n                        <p>✅ ¡Pago en línea: <strong>Pagado</strong>!</p>\r\n                        <p>Ahora puedes completar tu pedido.</p>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Botón para completar el pedido */}\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"boton-completar-pedido\"\r\n                    disabled={isSubmitDisabled}\r\n                >\r\n                    Completar Pedido\r\n                </button>\r\n            </form>\r\n\r\n            <p className=\"info-telefono\">\r\n                Si prefieres, también puedes hacer tu pedido llamando al: <strong>81 1234 5678</strong>\r\n            </p>\r\n\r\n            {/* Renderiza el modal de éxito si showSuccessModal es true */}\r\n            {showSuccessModal && (\r\n                <SuccessModal\r\n                    message=\"¡Tu pedido ha sido enviado con éxito! Nos pondremos en contacto contigo pronto.\"\r\n                    timeEstimate={orderTimeEstimate}\r\n                    onClose={handleCloseModal}\r\n                    isPaymentSuccess={formData.metodoPago === 'online' && paymentCompleted}\r\n                    paymentMessage=\"Pagado\"\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RealizarPedido;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}